<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rennfahrzeug-Datenbank</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        label {
            font-weight: bold;
        }
        .input-group {
            margin-bottom: 20px;
        }
        table {
            border-collapse: collapse;
            width: 50%;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <h1>Rennfahrzeug-Datenbank</h1>

    <!-- Schritt 1: Kategorie auswählen -->
    <div class="input-group">
        <label for="kategorien">Kategorie auswählen:</label>
        <select id="kategorien">
            <option value="">-- Bitte wählen --</option>
            <option value="GT3">GT3</option>
            <option value="LMDH">LMDH</option>
            <option value="LMP2">LMP2</option>
            <option value="GT4">GT4</option>
        </select>
    </div>

    <!-- Schritt 2: Modell auswählen -->
    <div class="input-group">
        <label for="modelle">Modell auswählen:</label>
        <select id="modelle">
            <option value="">-- Bitte wählen --</option>
            <!-- Modelle werden dynamisch geladen -->
        </select>
    </div>

    <!-- Schritt 3: Strecke auswählen -->
    <div class="input-group">
        <label for="strecken">Strecke auswählen:</label>
        <select id="strecken">
            <option value="">-- Bitte wählen --</option>
            <!-- Strecken werden dynamisch geladen -->
        </select>
    </div>

    <!-- Ergebnisse -->
    <table id="ergebnisse">
        <thead>
            <tr>
                <th>Spritverbrauch pro Runde (Liter)</th>
                <th>Spritverbrauch pro Rennen (Liter)</th>
            </tr>
        </thead>
        <tbody>
            <!-- Hier werden die Ergebnisse dynamisch eingefügt -->
        </tbody>
    </table>

    <script>
        // Datenbank (als JavaScript-Objekt)
        const datenbank = [
            // Porsche GT3
            { kategorie: "GT3", modell: "Porsche", strecke: "Daytona Sport Car", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Interlagos", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Imola", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "SPA", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Road America", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Watkins Glen", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Sebring", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "LeMans", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Cascais", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },

            // Lamborghini GT3
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Daytona Sport Car", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Interlagos", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Imola", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "SPA", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Road America", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Watkins Glen", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Sebring", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "LeMans", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Cascais", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" }
        ];

        // Funktion zum Laden der Modelle basierend auf der ausgewählten Kategorie
        function ladeModelle(gewaehlteKategorie) {
            const modelleDropdown = document.getElementById("modelle");
            modelleDropdown.innerHTML = '<option value="">-- Bitte wählen --</option>';

            if (gewaehlteKategorie) {
                const modelle = [...new Set(datenbank
                    .filter(eintrag => eintrag.kategorie === gewaehlteKategorie)
                    .map(eintrag => eintrag.modell)
                )];

                modelle.forEach(modell => {
                    const option = document.createElement("option");
                    option.value = modell;
                    option.textContent = modell;
                    modelleDropdown.appendChild(option);
                });
            }
        }

        // Funktion zum Laden der Strecken basierend auf der ausgewählten Kategorie und dem Modell
        function ladeStrecken(gewaehlteKategorie, gewaehltesModell) {
            const streckenDropdown = document.getElementById("strecken");
            streckenDropdown.innerHTML = '<option value="">-- Bitte wählen --</option>';

            if (gewaehlteKategorie && gewaehltesModell) {
                const strecken = [...new Set(datenbank
                    .filter(eintrag => eintrag.kategorie === gewaehlteKategorie && eintrag.modell === gewaehltesModell)
                    .map(eintrag => eintrag.strecke)
                )];

                strecken.forEach(strecke => {
                    const option = document.createElement("option");
                    option.value = strecke;
                    option.textContent = strecke;
                    streckenDropdown.appendChild(option);
                });
            }
        }

        // Funktion zum Anzeigen der Daten
        function zeigeDaten(gewaehlteKategorie, gewaehltesModell, gewaehlteStrecke) {
            const tbody = document.querySelector("#ergebnisse tbody");
            tbody.innerHTML = ""; // Tabelle leeren

            if (gewaehlteKategorie && gewaehltesModell && gewaehlteStrecke) {
                const eintrag = datenbank.find(e => e.kategorie === gewaehlteKategorie && e.modell === gewaehltesModell && e.strecke === gewaehlteStrecke);

                if (eintrag) {
                    const row = document.createElement("tr");
                    row.innerHTML = `
                        <td>${eintrag.verbrauchRunde}</td>
                        <td>${eintrag.verbrauchRennen}</td>
                    `;
                    tbody.appendChild(row);
                }
            }
        }

        // Event-Listener für das Kategorie-Dropdown
        document.getElementById("kategorien").addEventListener("change", function() {
            const gewaehlteKategorie = this.value;
            ladeModelle(gewaehlteKategorie);
            ladeStrecken(gewaehlteKategorie, "");
            zeigeDaten(gewaehlteKategorie, "", "");
        });

        // Event-Listener für das Modell-Dropdown
        document.getElementById("modelle").addEventListener("change", function() {
            const gewaehlteKategorie = document.getElementById("kategorien").value;
            const gewaehltesModell = this.value;
            ladeStrecken(gewaehlteKategorie, gewaehltesModell);
            zeigeDaten(gewaehlteKategorie, gewaehltesModell, "");
        });

        // Event-Listener für das Strecken-Dropdown
        document.getElementById("strecken").addEventListener("change", function() {
            const gewaehlteKategorie = document.getElementById("kategorien").value;
            const gewaehltesModell = document.getElementById("modelle").value;
            const gewaehlteStrecke = this.value;
            zeigeDaten(gewaehlteKategorie, gewaehltesModell, gewaehlteStrecke);
        });
    </script>
</body>
</html>