<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMS2 Spritdatenbank by MaFraSimracing</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        /* Header-Bereich für die Überschrift */
        .header {
            width: 100%;
            background-color: #2c3e50; /* Dunkler Grauton */
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #fff; /* Weiße Schrift für Kontrast */
            margin: 0;
            font-size: 2.5em;
        }

        /* Container für den Hauptinhalt */
        .container {
            width: 80%;
            max-width: 600px;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }

        h2 {
            color: #34495e; /* Dunkler Grauton */
            margin-top: 20px;
            font-size: 2em;
            text-align: center;
        }

        .input-group {
            margin-bottom: 25px;
        }

        label {
            font-weight: bold;
            display: block;
            margin-bottom: 8px;
            color: #34495e; /* Dunkler Grauton */
        }

        select, input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
            background-color: #fff;
            transition: border-color 0.3s ease;
        }

        select:focus, input:focus {
            border-color: #666; /* Mittelgrau für Fokus */
            outline: none;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 20px;
            background-color: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: #555; /* Dunkler Grauton */
            color: #fff; /* Weiße Schrift für Kontrast */
            font-weight: bold;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9; /* Hellgrau für abwechselnde Zeilen */
        }

        tr:hover {
            background-color: #f1f1f1; /* Heller Grauton für Hover-Effekt */
        }

        button {
            padding: 12px 24px;
            font-size: 16px;
            background-color: #555; /* Dunkler Grauton */
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }

        button:hover {
            background-color: #444; /* Dunklerer Grauton für Hover */
        }

        .fuel-calculator {
            margin-top: 40px;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .fuel-calculator h2 {
            margin-top: 0;
        }

        .input-group input[type="number"] {
            width: calc(33% - 10px);
            margin-right: 10px;
        }

        .input-group input[type="number"]:last-child {
            margin-right: 0;
        }

        p {
            font-size: 18px;
            margin-top: 10px;
            color: #2c3e50; /* Dunkler Grauton */
            text-align: center;
        }

        a {
            color: #555; /* Dunkler Grauton */
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: #444; /* Dunklerer Grauton für Hover */
            text-decoration: underline;
        }

        .setup-link {
            color: blue; /* Blauer Text für den Link */
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- Header-Bereich für die Überschrift -->
    <div class="header">
        <h1>AMS2 Spritdatenbank by MaFraSimracing</h1>
    </div>

    <!-- Container für den Hauptinhalt -->
    <div class="container">
        <!-- Überschrift "Fahrzeugauswahl" -->
        <h2><u>Fahrzeugauswahl</u></h2>

        <!-- Schritt 1: Kategorie auswählen -->
        <div class="input-group">
            <label for="kategorien">Kategorie auswählen:</label>
            <select id="kategorien">
                <option value="">-- Bitte wählen --</option>
                <option value="GT3">GT3</option>
                <option value="LMDH">LMDH</option>
                <option value="LMP2">LMP2</option>
                <option value="LMP3">LMP3</option>
                <option value="GT4">GT4</option>
            </select>
        </div>

        <!-- Schritt 2: Modell auswählen -->
        <div class="input-group">
            <label for="modelle">Modell auswählen:</label>
            <select id="modelle">
                <option value="">-- Bitte wählen --</option>
                <!-- Modelle werden dynamisch geladen -->
            </select>
        </div>

        <!-- Schritt 3: Strecke auswählen -->
        <div class="input-group">
            <label for="strecken">Strecke auswählen:</label>
            <select id="strecken">
                <option value="">-- Bitte wählen --</option>
                <!-- Strecken werden dynamisch geladen -->
            </select>
        </div>

        <!-- Ergebnisse -->
        <table id="ergebnisse">
            <thead>
                <tr>
                    <th>Spritverbrauch pro Runde (Liter)</th>
                    <th>Spritverbrauch pro Rennen (Liter)</th>
                </tr>
            </thead>
            <tbody>
                <!-- Hier werden die Ergebnisse dynamisch eingefügt -->
            </tbody>
        </table>

        <!-- Fuel Calculator -->
        <div class="fuel-calculator">
            <h2><u>Fuel Calculator</u></h2>
            <div class="input-group">
                <label for="rennlaenge">Rennlänge (Minuten):</label>
                <input type="number" id="rennlaenge" min="0" step="1" placeholder="Minuten">
            </div>
            <div class="input-group">
                <label for="rundenzeit-min">Rundenzeit:</label>
                <input type="number" id="rundenzeit-min" min="0" step="1" placeholder="Minuten">
                <input type="number" id="rundenzeit-sek" min="0" max="59" step="1" placeholder="Sekunden">
                <input type="number" id="rundenzeit-ms" min="0" max="999" step="1" placeholder="Millisekunden (optional)">
            </div>
            <div class="input-group">
                <label for="sprit-pro-runde">Sprit pro Runde (Liter):</label>
                <input type="number" id="sprit-pro-runde" min="0" step="0.1" placeholder="Liter">
            </div>
            <button onclick="berechneSprit()">Spritbedarf berechnen</button>
            <p id="rennsprit"></p>
            <p id="safe-fuel"></p>
        </div>

        <!-- Setups Hyperlink -->
        <h2>
            <a href="https://drive.google.com/drive/folders/1PUV8gLM7Xk7jb24LCoZhob5W-FVa3oiQ" target="_blank" class="setup-link">
                >>>Link zu den Setups<<<
            </a>
        </h2>
    </div>

    <script>
        // Datenbank (als JavaScript-Objekt)
        const datenbank = [
            // GT3 - Porsche
            { kategorie: "GT3", modell: "Porsche", strecke: "Cascais", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Daytona Sport Car", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Imola", verbrauchRunde: "3,03", verbrauchRennen: "61,00" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Interlagos", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "LeMans", verbrauchRunde: "7,41", verbrauchRennen: "69,00" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Road America", verbrauchRunde: "3,90", verbrauchRennen: "65,00" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Sebring", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Porsche", strecke: "SPA", verbrauchRunde: "4,00", verbrauchRennen: "61,00" },
            { kategorie: "GT3", modell: "Porsche", strecke: "Watkins Glen", verbrauchRunde: "3,17", verbrauchRennen: "62" },

            // GT3 - Lamborghini
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Cascais", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Daytona Sport Car", verbrauchRunde: "3,75", verbrauchRennen: "77,00" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Imola", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Interlagos", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "LeMans", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Road America", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Sebring", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "SPA", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Lamborghini", strecke: "Watkins Glen", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },

            // GT3 - Audi
            { kategorie: "GT3", modell: "Audi", strecke: "Cascais", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Audi", strecke: "Daytona Sport Car", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Audi", strecke: "Imola", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Audi", strecke: "Interlagos", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Audi", strecke: "LeMans", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Audi", strecke: "Road America", verbrauchRunde: "Unbekannt", verbrauchRennen: "68,00" },
            { kategorie: "GT3", modell: "Audi", strecke: "Sebring", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT3", modell: "Audi", strecke: "SPA", verbrauchRunde: "Unbekannt", verbrauchRennen: "65,00" },
            { kategorie: "GT3", modell: "Audi", strecke: "Watkins Glen", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            
            // LMDH - BMW
            { kategorie: "LMDH", modell: "BMW", strecke: "Cascais", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMDH", modell: "BMW", strecke: "Daytona Sport Car", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMDH", modell: "BMW", strecke: "Imola", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMDH", modell: "BMW", strecke: "Interlagos", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMDH", modell: "BMW", strecke: "LeMans", verbrauchRunde: "Unbekannt", verbrauchRennen: "75,00" },
            { kategorie: "LMDH", modell: "BMW", strecke: "Road America", verbrauchRunde: "Unbekannt", verbrauchRennen: "69,00" },
            { kategorie: "LMDH", modell: "BMW", strecke: "Sebring", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMDH", modell: "BMW", strecke: "SPA", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMDH", modell: "BMW", strecke: "Watkins Glen", verbrauchRunde: "3,125", verbrauchRennen: "66,00" },
                
            // LMP3 - Legier
            { kategorie: "LMP3", modell: "Legier", strecke: "Cascais", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMP3", modell: "Legier", strecke: "Daytona Sport Car", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMP3", modell: "Legier", strecke: "Imola", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMP3", modell: "Legier", strecke: "Interlagos", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMP3", modell: "Legier", strecke: "LeMans", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMP3", modell: "Legier", strecke: "Road America", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMP3", modell: "Legier", strecke: "Sebring", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "LMP3", modell: "Legier", strecke: "SPA", verbrauchRunde: "Unbekannt", verbrauchRennen: "55,00" },
            { kategorie: "LMP3", modell: "Legier", strecke: "Watkins Glen", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            
            // GT4 - AMG
            { kategorie: "GT4", modell: "AMG", strecke: "Cascais", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT4", modell: "AMG", strecke: "Daytona Sport Car", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT4", modell: "AMG", strecke: "Imola", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT4", modell: "AMG", strecke: "Interlagos", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT4", modell: "AMG", strecke: "LeMans", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT4", modell: "AMG", strecke: "Road America", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT4", modell: "AMG", strecke: "Sebring", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" },
            { kategorie: "GT4", modell: "AMG", strecke: "SPA", verbrauchRunde: "4,15", verbrauchRennen: "47,00" },
            { kategorie: "GT4", modell: "AMG", strecke: "Watkins Glen", verbrauchRunde: "Unbekannt", verbrauchRennen: "Unbekannt" }
        ];

        // Funktion zum Laden der Modelle basierend auf der ausgewählten Kategorie
        function ladeModelle(gewaehlteKategorie) {
            const modelleDropdown = document.getElementById("modelle");
            modelleDropdown.innerHTML = '<option value="">-- Bitte wählen --</option>';

            if (gewaehlteKategorie) {
                const modelle = [...new Set(datenbank
                    .filter(eintrag => eintrag.kategorie === gewaehlteKategorie)
                    .map(eintrag => eintrag.modell)
                )];

                modelle.forEach(modell => {
                    const option = document.createElement("option");
                    option.value = modell;
                    option.textContent = modell;
                    modelleDropdown.appendChild(option);
                });
            }
        }

        // Funktion zum Laden der Strecken basierend auf der ausgewählten Kategorie und dem Modell
        function ladeStrecken(gewaehlteKategorie, gewaehltesModell) {
            const streckenDropdown = document.getElementById("strecken");
            streckenDropdown.innerHTML = '<option value="">-- Bitte wählen --</option>';

            if (gewaehlteKategorie && gewaehltesModell) {
                const strecken = [...new Set(datenbank
                    .filter(eintrag => eintrag.kategorie === gewaehlteKategorie && eintrag.modell === gewaehltesModell)
                    .map(eintrag => eintrag.strecke)
                )];

                strecken.forEach(strecke => {
                    const option = document.createElement("option");
                    option.value = strecke;
                    option.textContent = strecke;
                    streckenDropdown.appendChild(option);
                });
            }
        }

        // Funktion zum Anzeigen der Daten
        function zeigeDaten(gewaehlteKategorie, gewaehltesModell, gewaehlteStrecke) {
            const tbody = document.querySelector("#ergebnisse tbody");
            tbody.innerHTML = ""; // Tabelle leeren

            if (gewaehlteKategorie && gewaehltesModell && gewaehlteStrecke) {
                const eintrag = datenbank.find(e => e.kategorie === gewaehlteKategorie && e.modell === gewaehltesModell && e.strecke === gewaehlteStrecke);

                if (eintrag) {
                    const row = document.createElement("tr");
                    row.innerHTML = `
                        <td>${eintrag.verbrauchRunde}</td>
                        <td>${eintrag.verbrauchRennen}</td>
                    `;
                    tbody.appendChild(row);
                }
            }
        }

        // Event-Listener für das Kategorie-Dropdown
        document.getElementById("kategorien").addEventListener("change", function() {
            const gewaehlteKategorie = this.value;
            ladeModelle(gewaehlteKategorie);
            ladeStrecken(gewaehlteKategorie, "");
            zeigeDaten(gewaehlteKategorie, "", "");
        });

        // Event-Listener für das Modell-Dropdown
        document.getElementById("modelle").addEventListener("change", function() {
            const gewaehlteKategorie = document.getElementById("kategorien").value;
            const gewaehltesModell = this.value;
            ladeStrecken(gewaehlteKategorie, gewaehltesModell);
            zeigeDaten(gewaehlteKategorie, gewaehltesModell, "");
        });

        // Event-Listener für das Strecken-Dropdown
        document.getElementById("strecken").addEventListener("change", function() {
            const gewaehlteKategorie = document.getElementById("kategorien").value;
            const gewaehltesModell = document.getElementById("modelle").value;
            const gewaehlteStrecke = this.value;
            zeigeDaten(gewaehlteKategorie, gewaehltesModell, gewaehlteStrecke);
        });

        // Funktion zur Berechnung des Spritbedarfs
        function berechneSprit() {
            // Eingabewerte auslesen
            const rennlaenge = parseFloat(document.getElementById("rennlaenge").value); // Rennlänge in Minuten
            const rundenzeitMin = parseFloat(document.getElementById("rundenzeit-min").value); // Minuten der Rundenzeit
            const rundenzeitSek = parseFloat(document.getElementById("rundenzeit-sek").value); // Sekunden der Rundenzeit
            const rundenzeitMs = parseFloat(document.getElementById("rundenzeit-ms").value) || 0; // Millisekunden der Rundenzeit (optional)
            const spritProRunde = parseFloat(document.getElementById("sprit-pro-runde").value); // Sprit pro Runde in Litern

            // Überprüfen, ob alle Pflichtfelder ausgefüllt sind
            if (isNaN(rennlaenge) || isNaN(rundenzeitMin) || isNaN(rundenzeitSek) || isNaN(spritProRunde)) {
                alert("Bitte fülle alle Pflichtfelder aus!");
                return;
            }

            // Rundenzeit in Sekunden umrechnen
            const rundenzeitInSekunden = rundenzeitMin * 60 + rundenzeitSek + rundenzeitMs / 1000;

            // Gesamte Rennzeit in Sekunden
            const rennzeitInSekunden = rennlaenge * 60;

            // Anzahl der Runden berechnen
            const anzahlRunden = rennzeitInSekunden / rundenzeitInSekunden;

            // Riskanter Spritbedarf berechnen
            const riskanterSprit = anzahlRunden * spritProRunde;

            // Rennsprit (Sprit + 1 Runde) berechnen
            const rennsprit = riskanterSprit + spritProRunde;

            // Safe Fuel (Sprit + 2 Runden) berechnen
            const safeFuel = riskanterSprit + 2 * spritProRunde;

            // Ergebnisse anzeigen
            document.getElementById("rennsprit").innerText = `Rennsprit: ${rennsprit.toFixed(2)} Liter`;
            document.getElementById("safe-fuel").innerText = `Safe Fuel: ${safeFuel.toFixed(2)} Liter`;
        }
    </script>
</body>
</html>
